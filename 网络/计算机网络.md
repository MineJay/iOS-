# 计算机网络

## OSI 七层网络模型（自下向上）分别是：

#### 物理层：
该层为上层协议提供一个传输数据的可靠物理媒介。

#### 数据链路层：
1. 该层的传输单位是‘帧’
2. 数据链路层为网络层提供可靠的数据传输
3. 主要协议：以太网协议；
4. 两个重要的设备名：网桥和交换机

#### 网络层
1. 网络层负责对子网之间的数据包进行路由选择，此外，网络层还可以实现拥塞控制。
2. 基本数据单位是IP数据报(IP协议非常简单，仅仅提供不可靠、无连接的传送服务)
3. 主要协议：IP，ICMP，ARP，RARP
4. 重要设备：路由器

#### 传输层
1. 传输层负责将上层数据分段并提供端到端、可靠或者不可靠的传输。
2. 主要协议：TCP，UDP
3. 重要设备网关


#### 会话层
会话层管理主机之间的会话进程，即负责建立、管理、终止进程之间的会话

#### 表示层
表示层对上层数据或信息进行变换以保证一个主机应用层信息可以被另一个主机的应用程序理解

#### 应用层
1. 数据传输基本单位为报文
2. 主要协议：FTP，DNS，HTTP



## TCP协议
#### 特性
1. TCP 是一种面向连接的、可靠的字节流服务
2. 在一个 TCP 连接中，仅有两方进行彼此通信。广播和多播不能用于 TCP
3. TCP 使用校验和，确认和重传机制来保证可靠传输
4. TCP 给数据分节进行排序，并使用累积确认保证数据的顺序不变和非重复
5. TCP 使用滑动窗口机制来实现流量控制，通过动态改变窗口的大小进行拥塞控制

> TCP 的可靠是相对于 UDP 来看的

#### 三次握手
为什么是三次握手？而不是其他两次？四次？五次？

> 这里举一个例子说明：有两个人 A 和 B，两个分别站在两栋楼里，进行相互喊话。A说：嘿，兄弟，听得到我说话吗？  B说：嗯！听得到，你听得到我吗？ A说：听得到，听得到。  

这个例子中就说明了为什么是三次握手，如果是两次呢？试想一下 B 在回答以后，A不说话了，那么 B 就会一直等待 A 的答复，浪费 B 的时间，心想：这家伙到底听到了没有？ 如果是四次呢？很明显，这是浪费啊！


#### 四次挥手

> 同样举一个例子：客户端 A 和服务器端 B，A说：好了，数据发送完了，没数据发送了。B说：好的，我知道，你没数据发送了。 B又说：那我现在关闭连接了。 A说：好的，我知道了，关闭吧。

这个例子中说明了四次挥手的目的其实是为了合约的完整执行。


## UDP协议

#### 特性
1. 面向无连接的通讯协议。
2. UDP支持多播和广播
3. 不能保证数据安全到达，只是努力交付
4. 面向报文的服务


## TCP和UDP

1. TCP协议是有连接的，有连接的意思是开始传输实际数据之前TCP的客户端和服务器端必须通过三次握手建立连接，会话结束之后也要结束连接。而UDP是无连接的
2. TCP协议保证数据按序发送，按序到达，提供超时重传来保证可靠性，但是UDP不保证按序到达，甚至不保证到达，只是努力交付，即便是按序发送的序列，也不保证按序送到。
3. TCP协议所需资源多，TCP首部需20个字节（不算可选项），UDP首部字段只需8个字节。
4. TCP有流量控制和拥塞控制，UDP没有，网络拥堵不会影响发送端的发送速率
5. TCP是一对一的连接，而UDP则可以支持一对一，多对多，一对多的通信。
6. TCP面向的是字节流的服务，UDP面向的是报文的服务。


## IP协议
IP 协议位于 TCP/IP 协议的第三层——网络层。与传输层协议相比，网络层的责任是提供点到点(hop by hop)的服务，而传输层（TCP/UDP）则提供端到端(end to end)的服务。IP是给因特网的每一台联网设备规定一个地址。

## HTTP协议
超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。所有的WWW文件都必须遵守这个标准。

#### 特性
1. HTTP构建与TCP/IP协议之上，默认端口号是80
2. HTTP是无连接无状态的


#### HTTP 协议包括哪些请求？
1. GET：请求读取由URL所标志的信息。
2. POST：给服务器添加信息（如注释）。
3. PUT：在给定的URL下存储一个文档。
4. DELETE：删除给定的URL所标志的资源。


#### HTTP 中， POST 与 GET 的区别
1. Get是从服务器上获取数据，Post是向服务器传送数据。
2. Get是把参数数据队列加到提交表单的Action属性所指向的URL中，值和表单内各个字段一一对应，在URL中可以看到。
3. Get传送的数据量小，不能大于2KB；Post传送的数据量较大，一般被默认为不受限制。


#### HTTP响应报文
1. 200 OK 客户端请求成功
2. 301 Moved Permanently 请求永久重定向
3. 302 Moved Temporarily 请求临时重定向
4. 304 Not Modified 文件未修改，可以直接使用缓存的文件。
5. 400 Bad Request 由于客户端请求有语法错误，不能被服务器所理解。
6. 401 Unauthorized 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用
7. 403 Forbidden 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因
8. 404 Not Found 请求的资源不存在，例如，输入了错误的URL
9. 500 Internal Server Error 服务器发生不可预期的错误，导致无法完成客户端的请求。
10. 503 Service Unavailable 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常。


## Socket
Socket 是对 TCP/IP 协议族的一种封装，是应用层与TCP/IP协议族通信的中间软件抽象层。从设计模式的角度看来，Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。
























